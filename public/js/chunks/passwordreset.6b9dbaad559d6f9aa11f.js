(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{FFxO:function(t,s,e){"use strict";e.r(s);var a=e("nlWZ"),i={name:"PasswordReset",mixins:[e("I958").a],data:function(){return{form:{email:"",password:"",password_confirmation:""},notification:{type:"danger",message:null},validation:null,findTokenRequest:{status:0},resetPasswordRequest:{status:0},params:{token:""}}},created:function(){if(this.params.token=this.$route.params.token,!this.params.token)return this.notification.type="danger",this.notification.message="Token not found",!1;this.checkToken(this.params.token)},methods:{submit:function(){this.resetPassword(this.form.email,this.form.password,this.form.password_confirmation,this.params.token)},checkToken:function(t){var s=this;this.findTokenRequest.status=1,a.a.findPasswordResetToken(t).then((function(t){s.findTokenRequest.status=2})).catch((function(t){s.findTokenRequest.status=3,s.notification.type="danger",t.response?(s.notification.message=t.response.data.error?t.response.data.error.message:t.response.data.message,s.validation=t.response.data.validation):s.notification.message="Network error"}))},resetPassword:function(t,s,e,i){var n=this;this.resetPasswordRequest.status=1,a.a.resetPassword(t,s,e,i).then((function(t){n.notification.type="success",n.resetPasswordRequest.status=2,n.notification.message="Your password has been reset successfully. Now you can login with your new password.",n.$snotify.success("Reset reset successfully")})).catch((function(t){n.resetPasswordRequest.status=3,t.response?(n.validation=t.response.data.validation,n.$snotify.error(t.response.data.error?t.response.data.error.message:t.response.data.message)):n.$snotify.error("Network error")}))}}},n=e("KHd+"),o=Object(n.a)(i,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"app flex-row align-items-center"},[e("div",{staticClass:"container"},[e("b-row",{staticClass:"justify-content-center"},[e("b-col",{staticClass:"mr-2 ml-2 pr-0 pl-0",attrs:{md:"4"}},[e("loading",{attrs:{active:1==t.resetPasswordRequest.status||1==t.findTokenRequest.status}}),t._v(" "),e("b-card-group",[e("b-card",{staticClass:"mb-0",attrs:{"no-body":""}},[e("b-card-header",[e("h2",{staticClass:"m-0"},[t._v("Reset password")])]),t._v(" "),e("b-card-body",[e("p",{staticClass:"text-muted"},[t._v("\n                                Reset your password\n                            ")]),t._v(" "),e("b-alert",{attrs:{variant:t.notification.type,show:null!=t.notification.message},domProps:{innerHTML:t._s(t.notification.message)}}),t._v(" "),2==t.findTokenRequest.status&&2!=t.resetPasswordRequest.status?[e("b-input-group",{staticClass:"mb-3"},[e("b-input-group-prepend",{staticClass:"item-header-text",attrs:{"is-text":""}},[e("i",{staticClass:"fas fa-at"})]),t._v(" "),e("b-input",{class:{"border-danger":t.validation&&t.validation.email},attrs:{type:"text",placeholder:"Email"},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.submit(s)}},model:{value:t.form.email,callback:function(s){t.$set(t.form,"email",s)},expression:"form.email"}}),t._v(" "),t.validation&&t.validation.email?e("div",{staticClass:"invalid-feedback d-block"},[t._v("\n                                        "+t._s(t.validation.email[0])+"\n                                    ")]):t._e()],1),t._v(" "),e("b-input-group",{staticClass:"mb-3"},[e("b-input-group-prepend",{staticClass:"item-header-text",attrs:{"is-text":""}},[e("i",{staticClass:"fas fa-key"})]),t._v(" "),e("b-input",{class:{"border-danger":t.validation&&t.validation.password},attrs:{type:"password",placeholder:"Password"},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.submit(s)}},model:{value:t.form.password,callback:function(s){t.$set(t.form,"password",s)},expression:"form.password"}}),t._v(" "),e("b-input-group-append",{staticClass:"item-header-text cursor-pointer",attrs:{"is-text":""},on:{click:function(s){return t.togglePasswordVisibility(s)}}},[e("i",{staticClass:"fa fa-eye-slash"})]),t._v(" "),t.validation&&t.validation.password?e("div",{staticClass:"invalid-feedback d-block"},[t._v("\n                                        "+t._s(t.validation.password[0])+"\n                                    ")]):t._e()],1),t._v(" "),e("b-input-group",{staticClass:"mb-3"},[e("b-input-group-prepend",{staticClass:"item-header-text",attrs:{"is-text":""}},[e("i",{staticClass:"fas fa-key"})]),t._v(" "),e("b-input",{class:{"border-danger":t.validation&&t.validation.password_confirmation},attrs:{type:"password",placeholder:"Confirm password"},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.submit(s)}},model:{value:t.form.password_confirmation,callback:function(s){t.$set(t.form,"password_confirmation",s)},expression:"form.password_confirmation"}}),t._v(" "),e("b-input-group-append",{staticClass:"item-header-text cursor-pointer",attrs:{"is-text":""},on:{click:function(s){return t.togglePasswordVisibility(s)}}},[e("i",{staticClass:"fa fa-eye-slash"})]),t._v(" "),t.validation&&t.validation.password_confirmation?e("div",{staticClass:"invalid-feedback d-block"},[t._v("\n                                        "+t._s(t.validation.password_confirmation[0])+"\n                                    ")]):t._e()],1)]:t._e(),t._v(" "),e("b-row",[e("b-col",{staticClass:"text-left",attrs:{cols:"6"}},[e("b-button",{staticClass:"px-0",attrs:{variant:"link"},on:{click:function(s){return t.$router.push({name:"Login"})}}},[t._v("\n                                        Log in\n                                    ")]),t._v(" "),e("br"),t._v(" "),e("b-button",{staticClass:"px-0",attrs:{variant:"link"},on:{click:function(s){return t.$router.push({name:"Home"})}}},[t._v("\n                                        Back to Home\n                                    ")])],1),t._v(" "),2==t.findTokenRequest.status&&2!=this.resetPasswordRequest.status?e("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[e("b-button",{attrs:{variant:"success"},on:{click:t.submit}},[t._v("\n                                        Reset\n                                    ")])],1):e("b-col",{staticClass:"text-right",attrs:{cols:"6"}})],1)],2)],1)],1)],1)],1)],1)])}),[],!1,null,null,null);s.default=o.exports},I958:function(t,s,e){"use strict";e.d(s,"a",(function(){return a}));var a={methods:{togglePasswordVisibility:function(t){var s=$(t.currentTarget),e=s.closest(".input-group").find("input").first();"password"==e.attr("type")?(e.attr("type","text"),s.find("svg").toggleClass("fa-eye-slash fa-eye")):(e.attr("type","password"),s.find("svg").toggleClass("fa-eye-slash fa-eye"))}}}}}]);