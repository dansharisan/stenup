(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"0yqY":function(s,t,a){"use strict";a.r(t);var e=a("nlWZ"),n={name:"PasswordChange",mixins:[a("I958").a],data:function(){return{form:{password:"",new_password:"",new_password_confirmation:""},notification:{type:"danger",message:null},validation:null,request:{status:0}}},methods:{submit:function(){this.changePassword(this.form.password,this.form.new_password,this.form.new_password_confirmation)},changePassword:function(s,t,a){var n=this;this.request.status=1,e.a.changePassword(s,t,a).then((function(s){n.notification.type="success",n.notification.message="Your password has been changed successfully.",n.request.status=2,n.$snotify.success("Changed password successfully")})).catch((function(s){n.request.status=3,s.response?(n.validation=s.response.data.validation,n.$snotify.error(s.response.data.error?s.response.data.error.message:s.response.data.message)):n.$snotify.error("Network error")}))}}},i=a("KHd+"),r=Object(i.a)(n,(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"app flex-row align-items-center"},[a("div",{staticClass:"container"},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{staticClass:"mr-2 ml-2 pr-0 pl-0",attrs:{md:"4"}},[a("loading",{attrs:{active:1==s.request.status}}),s._v(" "),a("b-card-group",[a("b-card",{staticClass:"mb-0",attrs:{"no-body":""}},[a("b-card-header",[a("h2",{staticClass:"m-0"},[s._v("Change password")])]),s._v(" "),a("b-card-body",[a("p",{staticClass:"text-muted"},[s._v("\n                                Change your password\n                            ")]),s._v(" "),a("b-alert",{attrs:{variant:s.notification.type,show:null!=s.notification.message},domProps:{innerHTML:s._s(s.notification.message)}}),s._v(" "),2!=s.request.status?[a("b-input-group",{staticClass:"mb-3"},[a("b-input-group-prepend",{staticClass:"item-header-text",attrs:{"is-text":""}},[a("i",{staticClass:"fas fa-key"})]),s._v(" "),a("b-input",{class:{"border-danger":s.validation&&s.validation.password},attrs:{type:"password",placeholder:"Current password"},on:{keyup:function(t){return!t.type.indexOf("key")&&s._k(t.keyCode,"enter",13,t.key,"Enter")?null:s.submit(t)}},model:{value:s.form.password,callback:function(t){s.$set(s.form,"password",t)},expression:"form.password"}}),s._v(" "),a("b-input-group-append",{staticClass:"item-header-text cursor-pointer",attrs:{"is-text":""},on:{click:function(t){return s.togglePasswordVisibility(t)}}},[a("i",{staticClass:"fa fa-eye-slash"})]),s._v(" "),s.validation&&s.validation.password?a("div",{staticClass:"invalid-feedback d-block"},[s._v("\n                                        "+s._s(s.validation.password[0])+"\n                                    ")]):s._e()],1),s._v(" "),a("b-input-group",{staticClass:"mb-3"},[a("b-input-group-prepend",{staticClass:"item-header-text",attrs:{"is-text":""}},[a("i",{staticClass:"fas fa-key"})]),s._v(" "),a("b-input",{class:{"border-danger":s.validation&&s.validation.new_password},attrs:{type:"password",placeholder:"New password"},on:{keyup:function(t){return!t.type.indexOf("key")&&s._k(t.keyCode,"enter",13,t.key,"Enter")?null:s.submit(t)}},model:{value:s.form.new_password,callback:function(t){s.$set(s.form,"new_password",t)},expression:"form.new_password"}}),s._v(" "),a("b-input-group-append",{staticClass:"item-header-text cursor-pointer",attrs:{"is-text":""},on:{click:function(t){return s.togglePasswordVisibility(t)}}},[a("i",{staticClass:"fa fa-eye-slash"})]),s._v(" "),s.validation&&s.validation.new_password?a("div",{staticClass:"invalid-feedback d-block"},[s._v("\n                                        "+s._s(s.validation.new_password[0])+"\n                                    ")]):s._e()],1),s._v(" "),a("b-input-group",{staticClass:"mb-3"},[a("b-input-group-prepend",{staticClass:"item-header-text",attrs:{"is-text":""}},[a("i",{staticClass:"fas fa-key"})]),s._v(" "),a("b-input",{class:{"border-danger":s.validation&&s.validation.new_password_confirmation},attrs:{type:"password",placeholder:"Confirm new password"},on:{keyup:function(t){return!t.type.indexOf("key")&&s._k(t.keyCode,"enter",13,t.key,"Enter")?null:s.submit(t)}},model:{value:s.form.new_password_confirmation,callback:function(t){s.$set(s.form,"new_password_confirmation",t)},expression:"form.new_password_confirmation"}}),s._v(" "),a("b-input-group-append",{staticClass:"item-header-text cursor-pointer",attrs:{"is-text":""},on:{click:function(t){return s.togglePasswordVisibility(t)}}},[a("i",{staticClass:"fa fa-eye-slash"})]),s._v(" "),s.validation&&s.validation.new_password_confirmation?a("div",{staticClass:"invalid-feedback d-block"},[s._v("\n                                        "+s._s(s.validation.new_password_confirmation[0])+"\n                                    ")]):s._e()],1)]:s._e(),s._v(" "),a("b-row",[a("b-col",{staticClass:"text-left",attrs:{cols:"6"}},[a("b-button",{staticClass:"px-0",attrs:{variant:"link"},on:{click:function(t){return s.$router.push({name:"Home"})}}},[s._v("\n                                        Back to Home\n                                    ")])],1),s._v(" "),2!=s.request.status?a("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[a("b-button",{attrs:{variant:"success"},on:{click:s.submit}},[s._v("\n                                        Change\n                                    ")])],1):s._e()],1)],2)],1)],1)],1)],1)],1)])}),[],!1,null,null,null);t.default=r.exports},I958:function(s,t,a){"use strict";a.d(t,"a",(function(){return e}));var e={methods:{togglePasswordVisibility:function(s){var t=$(s.currentTarget),a=t.closest(".input-group").find("input").first();"password"==a.attr("type")?(a.attr("type","text"),t.find("svg").toggleClass("fa-eye-slash fa-eye")):(a.attr("type","password"),t.find("svg").toggleClass("fa-eye-slash fa-eye"))}}}}}]);